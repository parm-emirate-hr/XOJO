<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - CGBitmapContextMBS shared methods</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="CGBitmapContextMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">CGBitmapContextMBS shared methods</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<p>Back to <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</a> class.  </p>
<div class="M">
<b><a href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</a>.<A name="1">Create(data as memoryblock, width as Integer, height as Integer, bitsPerComponent as Integer, bytesPerRow as Integer, colorspace as <A href="class-cgcolorspacembs.html">CGColorSpaceMBS</A>, alphaInfo as Integer) as <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A></A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>shared method</td>
<td class=grau><A href="topic-coregraphics.html" translate="no">CoreGraphics</A></td>
<td class=grau><a href="plugins-mbsmaccgplugin.html">MBS MacCG Plugin</a></td>
<td class=grau><a href="newinversion131.shtml" class=version>13.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Create a bitmap context.<BR>
<B>Notes:</B> 
<BR>
The context draws into a bitmap which is &#39;width&#39; pixels wide and &#39;height&#39; pixels high.  The number of components for each pixel is specified by &#39;colorspace&#39;, which also may specify a destination color profile. The number of bits for each component of a pixel is specified by &#39;bitsPerComponent&#39;, which must be 1, 2, 4, or 8. Each row of the bitmap consists of &#39;bytesPerRow&#39; bytes, which must be at least &#39;(width * bitsPerComponent * number of components + 7)/8&#39; bytes. &#39;data&#39; points a block of memory at least &#39;bytesPerRow * height&#39; bytes. &#39;alphaInfo&#39; specifies whether the bitmap should contain an alpha channel, and how it&#39;s to be generated.<BR>
<BR>
Fails if data=nil or colorspace=nil.<BR>
The memoryblock is not referenced and not stored, so keep it alive while using the BitmapContext object.<BR>
<BR>
Returns nil on any error.<BR>
<BR>
data<BR>
A pointer to the destination in memory where the drawing is to be rendered. The size of this memoryblock should be at least(bytesPerRow*height) bytes. Can be nil to let system allocate it.<BR>
<BR>
width<BR>
The width of the bitmap in pixels.<BR>
<BR>
height<BR>
The height of the bitmap in pixels.<BR>
<BR>
bitsPerComponent<BR>
The number of bits to use for each component of a pixel in memory. Allowable values are 4, 5, or 8. For example, for a 32-bit RGB(A) colorspace, you would specify a value of 8 bits per color component. In combination, the number of bits per component, the color space, and the alpha value determine which bitmap context formats Quartz supports. <BR>
<BR>
bytesPerRow<BR>
The number of bytes of memory to use per row of the bitmap. This value must be at least the product of the width and bitsPerComponentparameters, times the number of components per pixel. The result should be divided by 8 and rounded up to the nearest whole number to obtain the number of bytes to use per row. That is, the value must be at least (((width)*(bits per component)*(number of components per pixel))+7)/8 bytes. For a given row, Quartz stores bitmap data for the first width pixels and ignores any remaining bytes. The colorspace value referenced by the colorspace parameter specifies the number of components for each pixel. Can be zero to let system decide (especially if data is nil)<BR>
<BR>
colorspace<BR>
The color space to use for the bitmap context.<BR>
<BR>
alphaInfo<BR>
A CGImageAlphaInfo constant specifying whether the bitmap should contain an alpha channel and how it is to be generated. The alpha value determines the opacity of a pixel when it is drawn. <BR>
<BR>
Supported pixel formats:<BR>
<BR>
<TABLE cellpadding=3 border=0>
<TR><TD valign="top">Pixel format</TD><TD valign="top">Color space</TD><TD valign="top">Bits per pixel</TD><TD valign="top">Bits per component</TD><TD valign="top">Alpha option</TD></TR>
<TR><TD valign="top">Gray_8</TD><TD valign="top">Grayscale</TD><TD valign="top">8</TD><TD valign="top">8</TD><TD valign="top">kCGImageAlphaNone</TD></TR>
<TR><TD valign="top">RGB555</TD><TD valign="top">RGB</TD><TD valign="top">16</TD><TD valign="top">5</TD><TD valign="top">kCGImageAlphaNoneSkipFirst</TD></TR>
<TR><TD valign="top">XRGB_32</TD><TD valign="top">RGB</TD><TD valign="top">32</TD><TD valign="top">8</TD><TD valign="top">kCGImageAlphaNoneSkipFirst</TD></TR>
<TR><TD valign="top">ARGB_32</TD><TD valign="top">RGB</TD><TD valign="top">32</TD><TD valign="top">8</TD><TD valign="top">kCGImageAlphaPremultipliedFirst</TD></TR>
<TR><TD valign="top">RGBX_32</TD><TD valign="top">RGB</TD><TD valign="top">32</TD><TD valign="top">8</TD><TD valign="top">kCGImageAlphaNoneSkipLast</TD></TR>
<TR><TD valign="top">RGBA_32</TD><TD valign="top">RGB</TD><TD valign="top">32</TD><TD valign="top">8</TD><TD valign="top">kCGImageAlphaPremultipliedLast</TD></TR>
</TABLE>
<BR>
Quartz does not support the following formats in a bitmap context:<BR>
<UL><LI>
1-bit grayscale
</LI><LI>
24-bit RGB
</LI><LI>
CMYK (any depth)
</LI></UL>
<BR>
CGImageAlphaInfo constants:<BR>
<TABLE cellpadding=3 border=0>
<TR><TD valign="top">kCGImageAlphaNone</TD><TD valign="top">0</TD><TD valign="top"> </TD></TR>
<TR><TD valign="top">kCGImageAlphaPremultipliedLast</TD><TD valign="top">1</TD><TD valign="top">For example, premultiplied RGBA</TD></TR>
<TR><TD valign="top">kCGImageAlphaPremultipliedFirst</TD><TD valign="top">2</TD><TD valign="top">For example, premultiplied ARGB</TD></TR>
<TR><TD valign="top">kCGImageAlphaLast</TD><TD valign="top">3</TD><TD valign="top">For example, non-premultiplied RGBA</TD></TR>
<TR><TD valign="top">kCGImageAlphaFirst</TD><TD valign="top">4</TD><TD valign="top">For example, non-premultiplied ARGB</TD></TR>
<TR><TD valign="top">kCGImageAlphaNoneSkipLast</TD><TD valign="top">5</TD><TD valign="top">Equivalent to kCGImageAlphaNone.</TD></TR>
<TR><TD valign="top">kCGImageAlphaNoneSkipFirst</TD><TD valign="top">6</TD><TD valign="top"> </TD></TR>
</TABLE>
<p>See also:<ul>
<li><A href="coregraphics-cgbitmapcontextmbs-shared-method.html#2">Create(Other as CGBitmapContextMBS, NewColorspace as CGColorSpaceMBS) as CGBitmapContextMBS</A></li>
</ul></p>
</div>
<div class="M">
<b><a href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</a>.<A name="2">Create(Other as <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A>, NewColorspace as <A href="class-cgcolorspacembs.html">CGColorSpaceMBS</A>) as <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A></A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>shared method</td>
<td class=grau><A href="topic-coregraphics.html" translate="no">CoreGraphics</A></td>
<td class=grau><a href="plugins-mbsmaccgplugin.html">MBS MacCG Plugin</a></td>
<td class=grau><a href="newinversion143.shtml" class=version>14.3</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Creates a new bitmap object.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #0000FF;">dim</span> pic <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">new</span> Picture(<span style="color: #336698;">100</span>,<span style="color: #336698;">100</span>) <span style="color: #800000;">// some picture</span><br /><span style="color: #0000FF;">dim</span> ICCProfileData <span style="color: #0000FF;">as</span> memoryblock <span style="color: #800000;">// get a IIC Profile somewhere</span><br /><br /><span style="color: #0000FF;">dim</span> colorspace <span style="color: #0000FF;">as</span> <A href="class-cgcolorspacembs.html">CGColorSpaceMBS</A> = <A href="class-cgcolorspacembs.html">CGColorSpaceMBS</A>.CreateWithICCProfile(ICCProfileData)<br /><span style="color: #0000FF;">dim</span> bitmap <span style="color: #0000FF;">as</span> <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A> = <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A>.CreateWithPicture(pic)<br /><span style="color: #0000FF;">dim</span> zweiteBitmap <span style="color: #0000FF;">as</span> <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A> = bitmap.Create(bitmap, colorspace)</span>
</pre>
</div>
<B>Notes:</B> 
The new bitmap object uses same data as existing object, just accesses the pixels using the new color space.<BR>
<p>See also:<ul>
<li><A href="coregraphics-cgbitmapcontextmbs-shared-method.html">Create(data as memoryblock, width as Integer, height as Integer, bitsPerComponent as Integer, bytesPerRow as Integer, colorspace as CGColorSpaceMBS, alphaInfo as Integer) as CGBitmapContextMBS</A></li>
</ul></p>
</div>
<div class="M">
<b><a href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</a>.<A name="3">CreateRGB(data as memoryblock, width as Integer, height as Integer, bytesPerRow as Integer, colorspace as <A href="class-cgcolorspacembs.html">CGColorSpaceMBS</A> = nil) as <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A></A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>shared method</td>
<td class=grau><A href="topic-coregraphics.html" translate="no">CoreGraphics</A></td>
<td class=grau><a href="plugins-mbsmaccgplugin.html">MBS MacCG Plugin</a></td>
<td class=grau><a href="newinversion150.shtml" class=version>15.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Convenience function to handle RGB data.<BR>
<B>Notes:</B> 
<BR>
Same as Create method, but for RGB data.<BR>
Converts data from 3 byte/pixel to 4 byte/pixel and than creates <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A>.<BR>
Colorspace is optional and defaults to Generic RGB.<BR>
Returns nil on error, raises OutOfBounds exception for invalid parameters.<BR>
<h4>Some examples using this method:</h4>
<ul translate="no">
<li><A href="example-images-lcms2-drawingonmacwithcolorspaces-drawingonmacwithcolorspaces.html">/Images/LCMS2/Drawing on Mac with Colorspaces/Drawing on Mac with Colorspaces</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</a>.<A name="4">CreateWithPicture(Pic as Picture) as <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A></A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>shared method</td>
<td class=grau><A href="topic-coregraphics.html" translate="no">CoreGraphics</A></td>
<td class=grau><a href="plugins-mbsmaccgplugin.html">MBS MacCG Plugin</a></td>
<td class=grau><a href="newinversion131.shtml" class=version>13.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Creates a CGBitmapContext referencing the given picture.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #800000;">// a new picture in RB</span><br /><span style="color: #0000FF;">dim</span> pic <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">new</span> Picture(<span style="color: #336698;">500</span>, <span style="color: #336698;">500</span>)<br /><br /><span style="color: #800000;">// and create <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A> pointing to it</span><br /><span style="color: #0000FF;">dim</span> b <span style="color: #0000FF;">as</span> <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A> = <A href="class-cgbitmapcontextmbs.html">CGBitmapContextMBS</A>.CreateWithPicture(pic)<br /><br /><span style="color: #800000;">// color set to full red</span><br />b.SetRGBFillColor <span style="color: #006633;">1.0</span>, <span style="color: #006633;">0.0</span>, <span style="color: #006633;">0.0</span>, <span style="color: #006633;">1.0</span><br /><br /><span style="color: #800000;">// draw ellipse</span><br /><span style="color: #0000FF;">dim</span> r <span style="color: #0000FF;">as</span> <A href="class-cgrectmbs.html">CGRectMBS</A> = <A href="class-cgrectmbs.html">CGRectMBS</A>.Make(<span style="color: #336698;">0</span>, <span style="color: #336698;">0</span>, <span style="color: #336698;">500</span>, <span style="color: #336698;">500</span>)<br />b.FillEllipseInRect r<br /><br /><span style="color: #800000;">// flush drawings</span><br />b.Flush<br /><br /><span style="color: #800000;">// and show</span><br />Backdrop = pic</span>
</pre>
</div>
<B>Notes:</B> 
<BR>
Only for Cocoa target.<BR>
The plugin will do a clear cache on the picture in the destructor.<BR>
</div>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmaccgplugin.html">MBS MacCG Plugin</a>.</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=coregraphics-cgbitmapcontextmbs-shared-method">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

