<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - DRFileMBS events</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="DRFileMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">DRFileMBS events</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<p>Back to <A href="class-drfilembs.html">DRFileMBS</a> class.  </p>
<div class="M">
<b><a href="class-drfilembs.html">DRFileMBS</a>.<A name="1">calculateSizeOfFile(fork as Integer, estimating as boolean) as uint64</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-discrecording.html" translate="no">DiscRecording</A></td>
<td class=grau><a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a></td>
<td class=grau><a href="newinversion74.shtml" class=version>7.4</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Calculates the size of a file&#39;s fork.<BR>
<B>Notes:</B> 
<BR>
This method may be sent at any time after the file object has been instantiated. Requests that the recevier calculate the file size of file fork (for instance data or resource).<BR>
<BR>
If estimate is true, you are being asked for an estimate of the final fork size, perhaps to provide an estimate of the track size, and do not have to be exact.  Estimates should err on the high side; it&#39;s better to overestimate than underestimate.<BR>
<BR>
An estimate call may be made at any time.<BR>
<BR>
If estimate is false, you are being asked for the actual fork size, to be used in the burn.  This call is only made in the burn phase.<BR>
<BR>
fork: The fork of the file whose size is to be calculated.<BR>
estimate: If the file size should be estimated or exact.<BR>
<BR>
Return the length of the file&#39;s fork.<BR>
<h4>Some examples using this event:</h4>
<ul translate="no">
<li><A href="example-maccocoa-discrecording-databurnwithfileevents.html">/MacCocoa/DiscRecording/DataBurn with File Events</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-drfilembs.html">DRFileMBS</a>.<A name="2">cleanupFileAfterBurn</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-discrecording.html" translate="no">DiscRecording</A></td>
<td class=grau><a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a></td>
<td class=grau><a href="newinversion74.shtml" class=version>7.4</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Cleanup the file once the burn is complete.<BR>
<B>Notes:</B> 
Sent to the receiver after the burn completes. This would be an appropriate place to close files, or do any other teardown work needed.  This message will always be sent regardless of whether the burn succeeded or failed.<BR>
</div>
<div class="M">
<b><a href="class-drfilembs.html">DRFileMBS</a>.<A name="3">prepareFileForBurn as boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-discrecording.html" translate="no">DiscRecording</A></td>
<td class=grau><a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a></td>
<td class=grau><a href="newinversion74.shtml" class=version>7.4</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Prepare the file object for burning.<BR>
<B>Notes:</B> 
<BR>
Sent to the recevier before the burn begins. This would be an appropriate <BR>
method to open files, or do any other prep work needed.  The disc&#39;s entire <BR>
hierarchy is completely in place and can be queried if needed. <BR>
<BR>
After this call, the burn&#39;s content is locked down, and you should be<BR>
able to respond to the calculateSizeOfFile messages with exact values.<BR>
<h4>Some examples using this event:</h4>
<ul translate="no">
<li><A href="example-maccocoa-discrecording-databurnwithfileevents.html">/MacCocoa/DiscRecording/DataBurn with File Events</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-drfilembs.html">DRFileMBS</a>.<A name="4">prepareFileForVerification as boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-discrecording.html" translate="no">DiscRecording</A></td>
<td class=grau><a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a></td>
<td class=grau><a href="newinversion74.shtml" class=version>7.4</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Prepare the file object for verification.<BR>
<B>Notes:</B> 
Called during the burn (after production, before the cleanupFileAfterBurn event is called) to indicate that verification is about to begin. Now would be a good time to rewind to the start of the file, reset state machines, or do whatever else is needed to prepare to produce again.<BR>
<h4>Some examples using this event:</h4>
<ul translate="no">
<li><A href="example-maccocoa-discrecording-databurnwithfileevents.html">/MacCocoa/DiscRecording/DataBurn with File Events</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-drfilembs.html">DRFileMBS</a>.<A name="5">produceFile(fork as Integer, buffer as memoryblock, Bufferlen as uint32, address as uint64, blocksize as uint32) as uint32</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-discrecording.html" translate="no">DiscRecording</A></td>
<td class=grau><a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a></td>
<td class=grau><a href="newinversion74.shtml" class=version>7.4</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Calculates the size of a file&#39;s fork.<BR>
<B>Notes:</B> 
<BR>
Sent during the burn (after the prepareFileForBurn message) requesting that the receiver produce the data fork contents. <BR>
<BR>
The recevier should fill up the buffer passed in as full as possible and then return control to the caller. Since while burning, keeping the drive&#39;s buffer full is of utmost importance, you should not perform lengthy operations or block for data in this method. This method should return the number of bytes actually in the buffer or 0 to indicate that there was an error producing the data.<BR>
<BR>
You may be asked to produce twice, once during the actual burn and once during verification.<BR>
<BR>
fork: The fork of the file to produce.<BR>
buffer: The buffer to produce data into.<BR>
bufferLength: The length of the buffer to produce data into<BR>
blockSize: The size of the track blocks<BR>
<BR>
Return the number of bytes produced.<BR>
<h4>Some examples using this event:</h4>
<ul translate="no">
<li><A href="example-maccocoa-discrecording-databurnwithfileevents.html">/MacCocoa/DiscRecording/DataBurn with File Events</A></li>
</ul>
</div>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmaccontrolsplugin.html">MBS MacControls Plugin</a>.</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=discrecording-drfilembs-event">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

