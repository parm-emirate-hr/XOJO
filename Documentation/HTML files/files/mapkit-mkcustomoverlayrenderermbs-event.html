<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - MKCustomOverlayRendererMBS events</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="MKCustomOverlayRendererMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">MKCustomOverlayRendererMBS events</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<p>Back to <A href="class-mkcustomoverlayrenderermbs.html">MKCustomOverlayRendererMBS</a> class.  </p>
<div class="M">
<b><a href="class-mkcustomoverlayrenderermbs.html">MKCustomOverlayRendererMBS</a>.<A name="1">canDrawMapRect(mapRect as <A href="class-mkmaprectmbs.html">MKMapRectMBS</A>, zoomScale as Double) as Boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-mapkit.html" translate="no">MapKit</A></td>
<td class=grau><a href="plugins-mbsmacframeworksplugin.html">MBS MacFrameworks Plugin</a></td>
<td class=grau><a href="newinversion192.shtml" class=version>19.2</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Event to return a Boolean value indicating whether the overlay view is ready to draw its content.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #0000FF;">Function</span> canDrawMapRect(mapRect <span style="color: #0000FF;">as</span> <A href="class-mkmaprectmbs.html">MKMapRectMBS</A>, zoomScale <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">Double</span>) <span style="color: #0000FF;">Handles</span> canDrawMapRect <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">Boolean</span><br />  <span style="color: #0000FF;">Return</span> <span style="color: #0000FF;">True</span><br /><span style="color: #0000FF;">End</span> <span style="color: #0000FF;">Function</span></span>
</pre>
</div>
<B>Notes:</B> 
<BR>
mapRect: The map rectangle that needs to be updated.<BR>
zoomScale: The current scale factor applied to the map.<BR>
<BR>
Return yes if this overlay renderer is ready to draw its contents on the map or false if it is not.<BR>
<BR>
Overlay renderers can override this method in situations where they may depend on the availability of other information to draw their contents. For example, a renderer showing traffic information might want to delay drawing until it has all of the traffic data it needs. In such a case, it can return NO from this method to indicate that it is not ready. An overlay renderer might also return false if it does not draw content in the specified rectangle.<BR>
<BR>
If you return false from this method, your application is responsible for calling the setNeedsDisplayInMapRect method when the overlay renderer subsequently becomes ready to draw its contents.<BR>
<BR>
The default implementation of this method returns YES.<BR>
<BR>
As callback may come on a thread, MBS Xojo Plugin invokes event on the main thread. For best performance, please make sure your code does not take long time to execute.<BR>
</div>
<div class="M">
<b><a href="class-mkcustomoverlayrenderermbs.html">MKCustomOverlayRendererMBS</a>.<A name="2">DrawMapRect(mapRect as <A href="class-mkmaprectmbs.html">MKMapRectMBS</A>, zoomScale as Double, context as <A href="class-cgcontextmbs.html">CGContextMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-mapkit.html" translate="no">MapKit</A></td>
<td class=grau><a href="plugins-mbsmacframeworksplugin.html">MBS MacFrameworks Plugin</a></td>
<td class=grau><a href="newinversion192.shtml" class=version>19.2</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
The event to draw the overlay&rsquo;s contents at the specified location on the map.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #0000FF;">Sub</span> DrawMapRect(mapRect <span style="color: #0000FF;">as</span> <A href="class-mkmaprectmbs.html">MKMapRectMBS</A>, zoomScale <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">Double</span>, context <span style="color: #0000FF;">as</span> <A href="class-cgcontextmbs.html">CGContextMBS</A>) <span style="color: #0000FF;">Handles</span> DrawMapRect<br />  <span style="color: #800000;">// change coordinate system to show just our area</span><br />  <span style="color: #0000FF;">Dim</span> rect <span style="color: #0000FF;">As</span> <A href="class-cgrectmbs.html">CGRectMBS</A> = Self.RectForMapRect(overlay.boundingMapRect)<br />  context.ScaleCTM(<span style="color: #006633;">1.0</span>, -<span style="color: #006633;">1.0</span>)<br />  context.TranslateCTM(<span style="color: #006633;">0.0</span>, -rect.size.height)<br />  <br />  <span style="color: #800000;">// and fill it all in red</span><br />  context.SetRGBFillColor <span style="color: #336698;">1</span>,<span style="color: #336698;">0</span>,<span style="color: #336698;">0</span>,<span style="color: #006633;">0.3</span><br />  context.FillRect rect<br />  <br />  context.Flush<br /><span style="color: #0000FF;">End</span> <span style="color: #0000FF;">Sub</span></span>
</pre>
</div>
<B>Notes:</B> 
<BR>
mapRect: The map rectangle that needs to be updated. Your drawing code should avoid drawing outside of this rectangle.<BR>
zoomScale: The current zoom factor applied to the map content. You can use this value for configuring the stroke width of lines or other attributes that might be affected by the scale of the map&rsquo;s contents.<BR>
context: The graphics context to use for drawing the overlay&rsquo;s contents.<BR>
<BR>
The default implementation of this method does nothing. Subclasses are expected to implement this event and use it to draw the overlay&rsquo;s contents.<BR>
<BR>
When determining where to draw content, make your initial calculations relative to the map itself. In other words, compute the position and size of any overlay content using map points and map rectangles, convert those values to regular CGPoint and CGRect types using the methods of this class, and then pass the converted points to any drawing primitives.<BR>
It is recommended that you use Core Graphics to draw any content for your overlays. <BR>
<BR>
To improve drawing performance, the map view may divide your overlay into multiple tiles and render each one on a separate thread.<BR>
<BR>
As callback may come on a thread, MBS Xojo Plugin invokes event on the main thread. For best performance, please make sure your code does not take long time to execute.<BR>
</div>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmacframeworksplugin.html">MBS MacFrameworks Plugin</a>.</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=mapkit-mkcustomoverlayrenderermbs-event">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

