<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - NSFileWrapperMBS class</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="NSFileWrapperMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">NSFileWrapperMBS class</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<H3>NSFileWrapperMBS class</H3>
<div class="M">

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>class</td>
<td class=grau><A href="topic-cocoatext.html" translate="no">Cocoa Text</A></td>
<td class=grau><a href="plugins-mbsmacbaseplugin.html">MBS MacBase Plugin</a></td>
<td class=grau><a href="newinversion150.shtml" class=version>15.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
The NSFileWrapper class provides access to the attributes and contents of file-system nodes. <BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #800000;">// insert a file to textview</span><br /><br /><span style="color: #0000FF;">Public</span> <span style="color: #0000FF;">Sub</span> InsertFile(textview <span style="color: #0000FF;">as</span> <A href="class-nstextviewmbs.html">NSTextViewMBS</A>, f <span style="color: #0000FF;">as</span> FolderItem)<br />  <span style="color: #800000;">// read to file</span><br />  <span style="color: #0000FF;">dim</span> b <span style="color: #0000FF;">as</span> BinaryStream = BinaryStream.Open(f)<br />  <span style="color: #0000FF;">dim</span> s <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">string</span> = b.Read(b.Length)<br />  <br />  <span style="color: #800000;">// build wrapper</span><br />  <span style="color: #0000FF;">dim</span> fileWrapper <span style="color: #0000FF;">as</span> NSFileWrapperMBS = NSFileWrapperMBS.initRegularFileWithContents(s)<br />  fileWrapper.preferredFilename = f.name<br />  <br />  <span style="color: #800000;">// make attachment</span><br />  <span style="color: #0000FF;">dim</span> fileAttachment <span style="color: #0000FF;">as</span> <span style="color: #0000FF;">new</span> <A href="class-nstextattachmentmbs.html">NSTextAttachmentMBS</A>(fileWrapper)<br />  <span style="color: #0000FF;">dim</span> attributedString <span style="color: #0000FF;">as</span> <A href="class-nsattributedstringmbs.html">NSAttributedStringMBS</A> = <A href="class-nsattributedstringmbs.html">NSAttributedStringMBS</A>.attributedStringWithAttachment(fileAttachment)<br />  <br />  <span style="color: #800000;">// add to a <A href="class-nstextviewmbs.html">NSTextViewMBS</A></span><br />  textview.insertText attributedString<br />  <br /><span style="color: #0000FF;">End</span> <span style="color: #0000FF;">Sub</span></span>
</pre>
</div>
<B>Notes:</B> 
<BR>
A file-system node is a file, directory, or symbolic link. Instances of this class are known as file wrappers.<BR>
<BR>
File wrappers represent a file-system node as an object that can be displayed as an image (and possibly edited in place), saved to the file system, or transmitted to another application.<BR>
<BR>
There are three types of file wrappers:<BR>
<UL><LI>
Regular-file file wrapper: Represents a regular file.
</LI><LI>
Directory file wrapper: Represents a directory.
</LI><LI>
Symbolic-link file wrapper: Represents a symbolic link.
</LI></UL>
<BR>
A file wrapper has these attributes:<BR>
<UL><LI>
Filename. Name of the file-system node the file wrapper represents.
</LI><LI>
file-system attributes. See NSFileManager Class Reference for information on the contents of the attributes dictionary.
</LI><LI>
Regular-file contents. Applicable only to regular-file file wrappers.
</LI><LI>
File wrappers. Applicable only to directory file wrappers.
</LI><LI>
Destination node. Applicable only to symbolic-link file wrappers.
</UL>
</div>
<ul>
<LI>12 properties<UL>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html">Directory</A> as Boolean</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#2">fileAttributes</A> as Dictionary</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#3">filename</A> as String</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#4">fileWrappers</A> as Dictionary</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#5">Handle</A> as Integer</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#6">icon</A> as <A href="class-nsimagembs.html">NSImageMBS</A></li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#7">preferredFilename</A> as String</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#8">RegularFile</A> as Boolean</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#9">regularFileContents</A> as MemoryBlock</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#10">serializedRepresentation</A> as MemoryBlock</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#11">SymbolicLink</A> as Boolean</li>
<li class="M">property <A href="cocoatext-nsfilewrappermbs-property.html#12">symbolicLinkDestinationURL</A> as String</li>
</UL></LI>
<LI>11 methods<UL>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html">addFileWrapper</A>(child as NSFileWrapperMBS) as String</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#2">addRegularFileWithContents</A>(Data as MemoryBlock, preferredFilename as string) as String</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#3">Constructor</A></li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#4">keyForFileWrapper</A>(child as NSFileWrapperMBS) as String</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#5">matchesContentsOfFile</A>(File as FolderItem) as Boolean</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#6">matchesContentsOfURL</A>(URL as String) as Boolean</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#7">readFromFile</A>(File as FolderItem, Options as Integer = 0, byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as Boolean</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#8">readFromURL</A>(URL as String, Options as Integer = 0, byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as Boolean</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#9">removeFileWrapper</A>(child as NSFileWrapperMBS)</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#10">writeToFile</A>(File as FolderItem, Options as Integer = 0, originalContentsURL as FolderItem = nil, byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as Boolean</li>
<li class="M">method <A href="cocoatext-nsfilewrappermbs-method.html#11">writeToURL</A>(URL as String, Options as Integer = 0, originalContentsURL as String = "", byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as Boolean</li>
</UL></LI>
<LI>5 shared methods<UL>
<li class="M">shared method <A href="cocoatext-nsfilewrappermbs-shared-method.html">initDirectoryWithFileWrappers</A>(childrenByPreferredName as Dictionary) as NSFileWrapperMBS</li>
<li class="M">shared method <A href="cocoatext-nsfilewrappermbs-shared-method.html#2">initRegularFileWithContents</A>(data as MemoryBlock) as NSFileWrapperMBS</li>
<li class="M">shared method <A href="cocoatext-nsfilewrappermbs-shared-method.html#3">initWithFile</A>(File as folderItem, Options as Integer, byref error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as NSFileWrapperMBS</li>
<li class="M">shared method <A href="cocoatext-nsfilewrappermbs-shared-method.html#4">initWithSerializedRepresentation</A>(data as MemoryBlock) as NSFileWrapperMBS</li>
<li class="M">shared method <A href="cocoatext-nsfilewrappermbs-shared-method.html#5">initWithURL</A>(URL as string, Options as Integer, byref error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as NSFileWrapperMBS</li>
</UL></LI>
<LI>4 constants<UL>
</UL></LI>
</ul>
<h3 lang="en">Reading Options</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="cocoatext-nsfilewrappermbs-const.html">NSFileWrapperReadingImmediate </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
If reading with this option succeeds, then subsequent uses of fileWrappers, regularFileContents, symbolicLinkDestinationURL, and serializedRepresentation sent to the file wrapper and all its child file wrappers will fail and return nil only if an actual error occurs (for example, the volume has disappeared or the file server is unreachable)&mdash;not as a result of the user moving or deleting files.<BR>
<BR>
For performance reasons, NSFileWrapper may not read the contents of some file packages immediately even when this option is chosen. For example, because the contents of bundles (not all file packages are bundles) are immutable to the user, NSFileWrapper may read the children of such a directory lazily.<BR>
<BR>
You can use this option to take a snapshot of a file or folder for writing later. For example, an application like TextEdit can use this option when creating new file wrappers to represent attachments that the user creates by copying and pasting or dragging and dropping from the Finder to a TextEdit document. Don&#39;t use this option when reading a document file package, because that would cause unnecessarily bad performance. For example, an application wouldn&#39;t use this option when creating file wrappers to represent attachments as it&#39;s opening a document stored in a file package.<BR>
<BR>
Available in OS X v10.6 and later.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="cocoatext-nsfilewrappermbs-const.html#2">NSFileWrapperReadingWithoutMapping </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
Whether file mapping for regular file wrappers is disallowed.<BR>
<BR>
You can use this option to keep NSFileWrapper from memory-mapping files. This is useful if you want to make sure your application doesn&#39;t hold files open (mapped files are open files), therefore preventing the user from ejecting DVDs, unmounting disk partitions, or unmounting disk images. In OS X v10.6 and later, NSFileWrapper memory-maps files that are on internal drives only. It never memory-maps files on external drives or network volumes, regardless of whether this option is used.<BR>
<BR>
Available in OS X v10.6 and later.<BR>
</td>
</tr>
</table>
<h3 lang="en">Writing Options</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="cocoatext-nsfilewrappermbs-const.html#3">NSFileWrapperWritingAtomic </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
Whether writing is done atomically.<BR>
<BR>
You can use this option to ensure that, when overwriting a file package, the overwriting either completely succeeds or completely fails, with no possibility of leaving the file package in an inconsistent state. Because this option causes additional I/O, you shouldn&#39;t use it unnecessarily. For example, don&#39;t use this option in an override of -[NSDocument writeToURL], because NSDocument safe-saving is already done atomically.<BR>
<BR>
Available in OS X v10.6 and later.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="cocoatext-nsfilewrappermbs-const.html#4">NSFileWrapperWritingWithNameUpdating </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
Whether descendant file wrappers&rsquo;filename properties are set if the writing succeeds.<BR>
<BR>
This option is necessary when your application passes a URL in the originalContentsURL parameter to the writeToURL method. Without using this option (and reusing child file wrappers properly), subsequent invocations of writeToURL would not be able to reliably create hard links in a new file package, because the record of names in the old file package would be out of date.<BR>
<BR>
Available in OS X v10.6 and later.<BR>
</td>
</tr>
</table>
<p>This class has no sub classes.</p>
<h4>Some methods using this class:</h4><ul>
<li class="M"><A href="cocoatext-nsattributedstringmbs-method.html#18" translate="no">NSAttributedStringMBS.fileWrapperFromRange</A>(offset as Integer, length as Integer, documentAttributes as dictionary = nil, byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as NSFileWrapperMBS</li>
<li class="M"><A href="cocoatext-nsattributedstringmbs-method1.html#24" translate="no">NSAttributedStringMBS.RTFDFileWrapperFromRange</A>(offset as Integer, length as Integer, documentAttributes as dictionary = nil) as NSFileWrapperMBS</li>
<li class="M"><A href="cocoatext-nstextattachmentmbs-method.html" translate="no">NSTextAttachmentMBS.Constructor</A>(fileWrapper as NSFileWrapperMBS)</li>
</ul>
<h4>Some properties using for this class:</h4><ul>
<li class="M"><A href="cocoatext-nstextattachmentmbs-property.html#2" translate="no">NSTextAttachmentMBS.fileWrapper</A> as NSFileWrapperMBS</li>
</ul>
<h4>Blog Entries</h4>
<ul>
<li><a href="https://www.mbsplugins.de/archive/2016-01-13/MBS_Xojo__Real_Studio_Plugins_/monkeybreadsoftware_blog_xojo">MBS Xojo / Real Studio Plugins, version 16.0pr6</a></li>
<li><a href="https://www.mbsplugins.de/archive/2015-02-24/MonkeyBread_Software_Releases_/monkeybreadsoftware_blog_xojo">MonkeyBread Software Releases the MBS Xojo / Real Studio plug-ins in version 15.0</a></li>
<li><a href="https://www.mbsplugins.de/archive/2014-12-19/MBS_Xojo__Real_Studio_Plugins_/monkeybreadsoftware_blog_xojo">MBS Xojo / Real Studio Plugins, version 14.5pr4</a></li>
</ul>
<BR>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmacbaseplugin.html">MBS MacBase Plugin</a>.</p>
<br clear=all><p>
<a href="class-nsfileversionmbs.html">NSFileVersionMBS</a>
 &nbsp; - &nbsp; 
<a href="class-nsfontdescriptormbs.html">NSFontDescriptorMBS</a>
</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=class-nsfilewrappermbs">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

