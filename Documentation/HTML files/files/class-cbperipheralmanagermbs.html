<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - CBPeripheralManagerMBS class</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="CBPeripheralManagerMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">CBPeripheralManagerMBS class</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<H3>CBPeripheralManagerMBS class</H3>
<P>Super class: <A href="class-cbmanagermbs.html">CBManagerMBS</A></p>
<div class="M">

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>class</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
The CoreBluetooth peripheral manager class.<BR>
<B>Notes:</B> 
<BR>
CBPeripheralManager objects are used to manage published services within the local peripheral device&rsquo;s Generic Attribute Profile (GATT) database and to advertise these services to central devices (represented by CBCentral objects). While a service is in the database, it is visible to, and can be accessed by, any connected central. That said, if your app has not specified the bluetooth-peripheral background mode, the contents of its services become disabled when it is in the background or in a suspended state; any remote central trying to access the service&rsquo;s characteristic value or characteristic descriptors receives an error.<BR>
<BR>
Before you call CBPeripheralManager methods, the state of the peripheral manager object must be powered on, as indicated by the kStatePoweredOn. This state indicates that the peripheral device (your iPhone or iPad, for instance) supports Bluetooth low energy and that its Bluetooth is on and available to use.<BR>
Subclass of the <A href="class-cbmanagermbs.html">CBManagerMBS</A> class.<BR>
</div>
<ul>
<LI>12 events<UL>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html">DidAddService</A>(service as <A href="class-cbservicembs.html">CBServiceMBS</A>, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#2">DidOpenL2CAPChannel</A>(channel as <A href="class-cbl2capchannelmbs.html">CBL2CAPChannelMBS</A>, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#3">DidPublishL2CAPChannel</A>(PSM as Integer, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#4">DidReceiveReadRequest</A>(Request as <A href="class-cbattrequestmbs.html">CBATTRequestMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#5">DidReceiveWriteRequests</A>(requests() as <A href="class-cbattrequestmbs.html">CBATTRequestMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#6">DidStartAdvertising</A>(error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#7">DidSubscribeToCharacteristic</A>(central as <A href="class-cbcentralmbs.html">CBCentralMBS</A>, characteristic as <A href="class-cbcharacteristicmbs.html">CBCharacteristicMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#8">DidUnpublishL2CAPChannel</A>(PSM as Integer, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#9">DidUnsubscribeFromCharacteristic</A>(central as <A href="class-cbcentralmbs.html">CBCentralMBS</A>, characteristic as <A href="class-cbcharacteristicmbs.html">CBCharacteristicMBS</A>)</li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#10">DidUpdateState</A></li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#11">IsReadyToUpdateSubscribers</A></li>
<li class="M">event <A href="bluetooth-cbperipheralmanagermbs-event.html#12">WillRestoreState</A>(dic as dictionary)</li>
</UL></LI>
<li class="M">property <A href="bluetooth-cbperipheralmanagermbs-property.html">isAdvertising</A> as Boolean</li>
<LI>10 methods<UL>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html">addService</A>(service as <A href="class-cbmutableservicembs.html">CBMutableServiceMBS</A>)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#2">Constructor</A>(options as Dictionary = nil)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#3">Destructor</A></li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#4">removeAllServices</A></li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#5">removeService</A>(service as <A href="class-cbmutableservicembs.html">CBMutableServiceMBS</A>)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#6">respondToRequest</A>(request as <A href="class-cbattrequestmbs.html">CBATTRequestMBS</A>, error as integer)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#7">setDesiredConnectionLatency</A>(latency as integer, central as <A href="class-cbcentralmbs.html">CBCentralMBS</A>)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#8">startAdvertising</A>(advertisementData as Dictionary)</li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#9">stopAdvertising</A></li>
<li class="M">method <A href="bluetooth-cbperipheralmanagermbs-method.html#10">updateValue</A>(value as MemoryBlock, characteristic as <A href="class-cbmutablecharacteristicmbs.html">CBMutableCharacteristicMBS</A>, onSubscribedCentrals() as <A href="class-cbcentralmbs.html">CBCentralMBS</A> = nil) as Boolean</li>
</UL></LI>
<LI>6 shared methods<UL>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html">authorizationStatus</A> as integer</li>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html#2">Available</A> as boolean</li>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html#3">CBPeripheralManagerOptionRestoreIdentifierKey</A> as String</li>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html#4">CBPeripheralManagerOptionShowPowerAlertKey</A> as String</li>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html#5">CBPeripheralManagerRestoredStateAdvertisementDataKey</A> as String</li>
<li class="M">shared method <A href="bluetooth-cbperipheralmanagermbs-shared-method.html#6">CBPeripheralManagerRestoredStateServicesKey</A> as String</li>
</UL></LI>
<LI>13 constants<UL>
</UL></LI>
</ul>
<h3 lang="en">Authorization States</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html">kAuthorizationStatusAuthorized </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 3</td>
<td bgcolor="#DDDDDD" valign=top>
This app is authorized to share data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#2">kAuthorizationStatusDenied </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
The user explicitly denied this app from sharing data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#3">kAuthorizationStatusNotDetermined </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 0</td>
<td bgcolor="#DDDDDD" valign=top>
The user has not yet made a choice regarding whether this app can share data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#4">kAuthorizationStatusRestricted </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
This app is not authorized to share data using Bluetooth services while in the background state. The user cannot change this app&rsquo;s status, possibly due to active restrictions such as parental controls being in place.<BR>
</td>
</tr>
</table>
<h3 lang="en">Latencies</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#5">kConnectionLatencyHigh </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
Extending battery life has priority over rapid communication.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#6">kConnectionLatencyLow </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 0</td>
<td bgcolor="#DDDDDD" valign=top>
Rapid communication has priority over battery life.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#7">kConnectionLatencyMedium </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
A balance exits between communication frequency and battery life.<BR>
</td>
</tr>
</table>
<h3 lang="en">States</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#8">kStatePoweredOff </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 4</td>
<td bgcolor="#DDDDDD" valign=top>
Bluetooth is currently powered off.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#9">kStatePoweredOn </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 5</td>
<td bgcolor="#DDDDDD" valign=top>
Bluetooth is currently powered on and is available to use.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#10">kStateResetting </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
The connection with the system service was momentarily lost; an update is imminent.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#11">kStateUnauthorized </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 3</td>
<td bgcolor="#DDDDDD" valign=top>
The app is not authorized to use the Bluetooth low energy peripheral/server role.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#12">kStateUnknown </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 0</td>
<td bgcolor="#DDDDDD" valign=top>
The current state of the peripheral manager is unknown; an update is imminent.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbperipheralmanagermbs-const.html#13">kStateUnsupported </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
The platform doesn&#39;t support the Bluetooth low energy peripheral/server role.<BR>
</td>
</tr>
</table>
<h4>Super class <A href="class-cbmanagermbs.html">CBManagerMBS</A></h4>
<ul>
<LI>3 properties<UL>
<li class="M">property <A href="bluetooth-cbmanagermbs-property.html">authorization</A> as Integer</li>
<li class="M">property <A href="bluetooth-cbmanagermbs-property.html#2">Handle</A> as Integer</li>
<li class="M">property <A href="bluetooth-cbmanagermbs-property.html#3">State</A> as Integer</li>
</UL></LI>
<li class="M">method <A href="bluetooth-cbmanagermbs-method.html">Constructor</A> &nbsp; <b style="color: #8B0000"> Private </b></li>
<li class="M">shared method <A href="bluetooth-cbmanagermbs-shared-method.html">Available</A> as boolean</li>
<LI>10 constants<UL>
</UL></LI>
</ul>
<h3 lang="en">Authorization States</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html">kAuthorizationStatusAuthorized </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 3</td>
<td bgcolor="#DDDDDD" valign=top>
This app is authorized to share data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#2">kAuthorizationStatusDenied </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
The user explicitly denied this app from sharing data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#3">kAuthorizationStatusNotDetermined </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 0</td>
<td bgcolor="#DDDDDD" valign=top>
The user has not yet made a choice regarding whether this app can share data using Bluetooth services while in the background state.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#4">kAuthorizationStatusRestricted </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
This app is not authorized to share data using Bluetooth services while in the background state. The user cannot change this app&rsquo;s status, possibly due to active restrictions such as parental controls being in place.<BR>
</td>
</tr>
</table>
<h3 lang="en">States</h3>
<table cellpadding=2 cellspacing=2>
<tr>
<th bgcolor="#DDDDDD">Constant</th>
<th bgcolor="#DDDDDD">Value</th>
<th bgcolor="#DDDDDD">Description</th>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#5">kStatePoweredOff </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 4</td>
<td bgcolor="#DDDDDD" valign=top>
Bluetooth is currently powered off.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#6">kStatePoweredOn </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 5</td>
<td bgcolor="#DDDDDD" valign=top>
Bluetooth is currently powered on and available to use.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#7">kStateResetting </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 1</td>
<td bgcolor="#DDDDDD" valign=top>
The connection with the system service was momentarily lost, update imminent.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#8">kStateUnauthorized </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 3</td>
<td bgcolor="#DDDDDD" valign=top>
The application is not authorized to use the Bluetooth Low Energy role.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#9">kStateUnknown </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 0</td>
<td bgcolor="#DDDDDD" valign=top>
State unknown, update imminent.<BR>
</td>
</tr>
<tr class="M">
<td bgcolor="#DDDDDD" valign=top><a href="bluetooth-cbmanagermbs-const.html#10">kStateUnsupported </a></td>
<td bgcolor="#DDDDDD" valign=top align=Right> 2</td>
<td bgcolor="#DDDDDD" valign=top>
The platform doesn&#39;t support the Bluetooth Low Energy Central/Client role.<BR>
</td>
</tr>
</table>
<p>This class has no sub classes.</p>
<BR>
<p>The items on this page are in the following plugins: <a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a>.</p>
<br clear=all><p>
<a href="class-cbpeermbs.html">CBPeerMBS</a>
 &nbsp; - &nbsp; 
<a href="class-cbperipheralmbs.html">CBPeripheralMBS</a>
</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=class-cbperipheralmanagermbs">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

