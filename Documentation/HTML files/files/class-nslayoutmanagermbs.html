<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - NSLayoutManagerMBS class</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="NSLayoutManagerMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">NSLayoutManagerMBS class</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<H3>NSLayoutManagerMBS class</H3>
<div class="M">

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>class</td>
<td class=grau><A href="topic-cocoa.html" translate="no">Cocoa</A></td>
<td class=grau><a href="plugins-mbsmaccocoaplugin.html">MBS MacCocoa Plugin</a></td>
<td class=grau><a href="newinversion121.shtml" class=version>12.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>Desktop only</td>
</tr>
</table>
<B>Function:</B> 
An NSLayoutManager object coordinates the layout and display of characters held in an NSTextStorage object.<BR>
<B>Notes:</B> 
<BR>
It maps Unicode character codes to glyphs, sets the glyphs in a series of NSTextContainer objects, and displays them in a series of NSTextView objects. In addition to its core function of laying out text, an NSLayoutManager object coordinates its NSTextView objects, provides services to those text views to support NSRulerView instances for editing paragraph styles, and handles the layout and display of text attributes not inherent in glyphs (such as underline or strikethrough). You can create a subclass of NSLayoutManager to handle additional text attributes, whether inherent or not.<BR>
<BR>
Text Antialiasing<BR>
NSLayoutManager provides the threshold for text antialiasing. It looks at the AppleAntiAliasingThreshold default value. If the font size is smaller than or equal to this threshold size, the text is rendered aliased by NSLayoutManager. You can change the threshold value from the Appearance pane of System Preferences.<BR>
<BR>
Thread Safety of NSLayoutManager<BR>
Generally speaking, a given layout manager (and associated objects) should not be used in more than one block, operation, or thread at a time. Most layout managers are used on the main thread, since it is the main thread on which their text views are displayed, and since background layout occurs on the main thread. If it is intended that a layout manager should be used on a background thread, first make sure that text views associated with that layout manager (if any) are not displayed while the layout manager is being used on the background thread, and, second, turn off background layout for that layout manager while it is being used on the background thread.<BR>
<BR>
Noncontiguous Layout<BR>
Noncontiguous layout is an optional layout manager behavior new in Mac OS X v10.5. Previously, both glyph generation and layout were always performed, in order, from the beginning to the end of the document. When noncontiguous layout is turned on, however, the layout manager gains the option of performing glyph generation or layout for one portion of the document without having done so for previous sections. This can provide significant performance improvements for large documents.<BR>
<BR>
Noncontiguous layout is not turned on automatically because direct clients of NSLayoutManager typically have relied on the previous behavior&mdash;for example, by forcing layout for a given glyph range, and then assuming that previous glyphs would therefore be laid out. Clients who use NSLayoutManager only indirectly&mdash;for example, those who use NSTextView without directly calling the underlying layout manager&mdash;can usually turn on noncontiguous layout without difficulty. Clients using NSLayoutManager directly need to examine their usage before turning on noncontiguous layout.<BR>
<BR>
To turn on noncontiguous layout, use AllowsNonContiguousLayout. In addition, see the other methods in &quot;Managing Noncontiguous Layout,&quot; many of which enable you to ensure that glyph generation and layout are performed for specified portions of the text. The behavior of a number of other layout manager methods is affected by the state of noncontiguous layout, as noted in the discussion sections of those method descriptions.<BR>
<BR>
So far the plugin implements a small subset of the functions in NSLayoutManager. If you miss a function, please email us and we can check whether we can add it for you.<BR>
</div>
<ul>
<LI>15 properties<UL>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html">allowsNonContiguousLayout</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#2">attributedString</A> as <A href="class-nsattributedstringmbs.html">NSAttributedStringMBS</A></li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#3">backgroundLayoutEnabled</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#4">font</A> as <A href="class-nsfontmbs.html">NSFontMBS</A></li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#5">Handle</A> as Integer</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#6">hasNonContiguousLayout</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#7">hyphenationFactor</A> as Double</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#8">showInvisibleCharacters</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#9">showsControlCharacters</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#10">showsInvisibleCharacters</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#11">textColor</A> as <A href="class-nscolormbs.html">NSColorMBS</A></li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#12">textStorage</A> as <A href="class-nstextstoragembs.html">NSTextStorageMBS</A></li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#13">usesFontLeading</A> as Boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-property.html#14">usesScreenFonts</A> as boolean</li>
<li class="M">property <A href="cocoa-nslayoutmanagermbs-method.html#7">InvisibleCharMapping</A>(character as Integer) as string</li>
</UL></LI>
<LI>21 methods<UL>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html">addTextContainer</A>(container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#2">characterIndexForPoint</A>(point as <A href="class-nspointmbs.html">NSPointMBS</A>, container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>, byref partialFraction as Double) as Integer</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#3">Constructor</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#4">glyphIndexForPoint</A>(point as <A href="class-nspointmbs.html">NSPointMBS</A>, container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>) as Integer</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#5">glyphIndexForPoint</A>(point as <A href="class-nspointmbs.html">NSPointMBS</A>, container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>, byref partialFraction as Double) as Integer</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#6">glyphRangeForTextContainer</A>(container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>) as <A href="class-nsrangembs.html">NSRangeMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#8">lineFragmentRectForGlyphAtIndex</A>(glyphIndex as Integer, byref effectiveRange as <A href="class-nsrangembs.html">NSRangeMBS</A>) as <A href="class-nsrectmbs.html">NSRectMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#9">lineFragmentRectForGlyphAtIndex</A>(glyphIndex as Integer, byref effectiveRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, withoutAdditionalLayout as boolean) as <A href="class-nsrectmbs.html">NSRectMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#10">lineFragmentUsedRectForGlyphAtIndex</A>(glyphIndex as Integer, byref effectiveRange as <A href="class-nsrangembs.html">NSRangeMBS</A>) as <A href="class-nsrectmbs.html">NSRectMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#11">lineFragmentUsedRectForGlyphAtIndex</A>(glyphIndex as Integer, byref effectiveRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, withoutAdditionalLayout as boolean) as <A href="class-nsrectmbs.html">NSRectMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#12">locationForGlyphAtIndex</A>(glyphIndex as Integer) as <A href="class-nspointmbs.html">NSPointMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#13">rangeOfNominallySpacedGlyphsContainingIndex</A>(glyphIndex as Integer) as <A href="class-nsrangembs.html">NSRangeMBS</A></li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#14">rectArrayForCharacterRange</A>(charRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, selCharRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>, byref rectCount as Integer) as <A href="class-nsrectmbs.html">NSRectMBS</A>()</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#15">rectArrayForGlyphRange</A>(glyphRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, selGlyphRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>, byref rectCount as Integer) as <A href="class-nsrectmbs.html">NSRectMBS</A>()</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#16">removeTextContainerAtIndex</A>(index as Integer)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#17">replaceGlyphAtIndex</A>(glyphIndex as Integer, newGlyph as Integer)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#18">replaceTextStorage</A>(newTextStorage as <A href="class-nstextstoragembs.html">NSTextStorageMBS</A>)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#19">setCharacterIndex</A>(charIndex as Integer, glyphIndex as Integer)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#20">setExtraLineFragmentRect</A>(fragmentRect as <A href="class-nsrectmbs.html">NSRectMBS</A>, usedRect as <A href="class-nsrectmbs.html">NSRectMBS</A>, TextContainer as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#21">setLineFragmentRect</A>(fragmentRect as <A href="class-nsrectmbs.html">NSRectMBS</A>, glyphRange as <A href="class-nsrangembs.html">NSRangeMBS</A>, usedRect as <A href="class-nsrectmbs.html">NSRectMBS</A>)</li>
<li class="M">method <A href="cocoa-nslayoutmanagermbs-method.html#22">usedRectForTextContainer</A>(container as <A href="class-nstextcontainermbs.html">NSTextContainerMBS</A>) as <A href="class-nsrectmbs.html">NSRectMBS</A></li>
</UL></LI>
</ul>
<p>This class has no sub classes.</p>
<h4>Some methods using this class:</h4><ul>
<li class="M"><A href="cocoatext-nstextcontainermbs-method.html#9" translate="no">NSTextContainerMBS.replaceLayoutManager</A>(l as NSLayoutManagerMBS)</li>
<li class="M"><A href="cocoatext-nstextstoragembs-method.html" translate="no">NSTextStorageMBS.addLayoutManager</A>(l as NSLayoutManagerMBS)</li>
<li class="M"><A href="cocoatext-nstextstoragembs-method.html#10" translate="no">NSTextStorageMBS.removeLayoutManager</A>(l as NSLayoutManagerMBS)</li>
</ul>
<h4>Some properties using for this class:</h4><ul>
<li class="M"><A href="cocoacontrols-nstextviewmbs-property.html#21" translate="no">NSTextViewMBS.layoutManager</A> as NSLayoutManagerMBS</li>
<li class="M"><A href="cocoatext-nstextcontainermbs-method.html#7" translate="no">NSTextContainerMBS.layoutManager</A> as NSLayoutManagerMBS</li>
</ul>
<h4>Some examples using this class:</h4>
<ul translate="no">
<li class=""><A href="example-maccontrols-nstextviewshowinvisiblecharacters.html">/MacControls/NSTextView show invisible characters</A></li>
<li class=""><A href="example-maccontrols-nstextviewunlimitedtab.html">/MacControls/NSTextView Unlimited Tab</A></li>
</ul>
<h4>Blog Entries</h4>
<ul>
<li><a href="https://www.mbsplugins.de/archive/2022-01-06/MBS_Xojo_Plugins_version_220pr/monkeybreadsoftware_blog_xojo">MBS Xojo Plugins, version 22.0pr6</a></li>
<li><a href="https://www.mbsplugins.de/archive/2016-09-27/MBS_Releases_the_MBS_Xojo__Rea/monkeybreadsoftware_blog_xojo">MBS Releases the MBS Xojo / Real Studio plug-ins in version 16.4</a></li>
<li><a href="https://www.mbsplugins.de/archive/2016-09-14/MBS_Xojo__Real_Studio_Plugins_/monkeybreadsoftware_blog_xojo">MBS Xojo / Real Studio Plugins, version 16.4pr7</a></li>
<li><a href="https://www.mbsplugins.de/archive/2013-03-18/MBS_Real_Studio_Plugins_versio/monkeybreadsoftware_blog_xojo">MBS Real Studio Plugins, version 13.1pr8</a></li>
<li><a href="https://www.mbsplugins.de/archive/2012-11-06/MBS_Real_Studio_Plugins_versio/monkeybreadsoftware_blog_xojo">MBS Real Studio Plugins, version 12.5pr7</a></li>
<li><a href="https://www.mbsplugins.de/archive/2012-10-23/MBS_Real_Studio_Plugins_versio/monkeybreadsoftware_blog_xojo">MBS Real Studio Plugins, version 12.5pr5</a></li>
<li><a href="https://www.mbsplugins.de/archive/2012-08-28/MBS_Real_Studio_Plugins_versio/monkeybreadsoftware_blog_xojo">MBS Real Studio Plugins, version 12.4pr4</a></li>
<li><a href="https://www.mbsplugins.de/archive/2012-08-27/Show_invisible_characters_in_N/monkeybreadsoftware_blog_xojo">Show invisible characters in NSTextView/TextArea</a></li>
<li><a href="https://www.mbsplugins.de/archive/2012-02-20/MBS_Real_Studio_Plugins_versio/monkeybreadsoftware_blog_xojo">MBS Real Studio Plugins, version 12.1pr5</a></li>
</ul>
<BR>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmaccocoaplugin.html">MBS MacCocoa Plugin</a>.</p>
<br clear=all><p>
<a href="class-nskeyvalueobservermbs.html">NSKeyValueObserverMBS</a>
 &nbsp; - &nbsp; 
<a href="class-nslevelindicatormbs.html">NSLevelIndicatorMBS</a>
</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=class-nslayoutmanagermbs">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

