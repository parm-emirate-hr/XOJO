<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - CBPeripheralManagerMBS events</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="CBPeripheralManagerMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">CBPeripheralManagerMBS events</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<p>Back to <A href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a> class.  </p>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="1">DidAddService(service as <A href="class-cbservicembs.html">CBServiceMBS</A>, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when you publish a service, and any of its associated characteristics and characteristic descriptors, to the local Generic Attribute Profile (GATT) database.<BR>
<B>Notes:</B> 
<BR>
service: The service that was added to the local GATT database.<BR>
error: If an error occurred, the cause of the failure.<BR>
<BR>
This event is invoked when your app calls the addService method to publish a service to the local peripheral&rsquo;s GATT database. If the service is successfully published to the local database, the error parameter is nil. If unsuccessful, the error parameter returns the cause of the failure.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="2">DidOpenL2CAPChannel(channel as <A href="class-cbl2capchannelmbs.html">CBL2CAPChannelMBS</A>, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Did open L2CAP channel.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="3">DidPublishL2CAPChannel(PSM as Integer, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
This event is the response to a publishL2CAPChannel call. <BR>
<B>Notes:</B> 
<BR>
PSM: The PSM of the channel that was published.<BR>
error: If an error occurred, the cause of the failure.<BR>
<BR>
The PSM will contain the PSM that was assigned for the published channel<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="4">DidReceiveReadRequest(Request as <A href="class-cbattrequestmbs.html">CBATTRequestMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when a local peripheral device receives an Attribute Protocol (ATT) read request for a characteristic that has a dynamic value.<BR>
<B>Notes:</B> 
<BR>
request: A CBATTRequest object that represents a request to read a characteristic&rsquo;s value.<BR>
<BR>
Each time this method is invoked, you call the respondToRequest method of the CBPeripheralManager class exactly once to respond to the read request.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="5">DidReceiveWriteRequests(requests() as <A href="class-cbattrequestmbs.html">CBATTRequestMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when a local peripheral device receives an Attribute Protocol (ATT) write request for a characteristic that has a dynamic value.<BR>
<B>Notes:</B> 
<BR>
requests: A list of one or more CBATTRequest objects, each representing a request to write the value of a characteristic.<BR>
<BR>
In the same way that you respond to a read request, each time this method is invoked, you call the respondToRequest:withResult: method of the CBPeripheralManager class exactly once. If the requests parameter contains multiple requests, treat them as you would a single request&mdash;if any individual request cannot be fulfilled, you should not fulfill any of them. Instead, call the respondToRequest method immediately, and provide a result that indicates the cause of the failure.<BR>
<BR>
When you respond to a write request, note that the first parameter of the respondToRequest method expects a single CBATTRequest object, even though you received an array of them from the didReceiveWriteRequests event. To respond properly, pass in the first request of the requests array.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="6">DidStartAdvertising(error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Adverising did start.<BR>
<B>Notes:</B> 
<BR>
error: If an error occurred, the cause of the failure.<BR>
<BR>
This event returns the result of a startAdvertising call. If advertisement could not be started, the cause will be detailed in the error parameter.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="7">DidSubscribeToCharacteristic(central as <A href="class-cbcentralmbs.html">CBCentralMBS</A>, characteristic as <A href="class-cbcharacteristicmbs.html">CBCharacteristicMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when a remote central device subscribes to a characteristic&rsquo;s value.<BR>
<B>Notes:</B> 
<BR>
central: The remote central device that subscribed to the characteristic&rsquo;s value.<BR>
characteristic: The characteristic whose value has been subscribed to.<BR>
<BR>
This method is invoked when a remote central device subscribes to the value of one of the local peripheral&rsquo;s characteristics, by enabling notifications or indications on the characteristic&rsquo;s value. You should use the invocation of this method as a cue to start sending the subscribed central updates as the characteristic&rsquo;s value changes. To send updated characteristic values to subscribed centrals, use the updateValue method of the CBPeripheralManager class.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="8">DidUnpublishL2CAPChannel(PSM as Integer, error as <A href="class-nserrormbs.html">NSErrorMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
This event is the response to a unpublishL2CAPChannel call.<BR>
<B>Notes:</B> 
<BR>
PSM: The PSM of the channel that was published.<BR>
error: If an error occurred, the cause of the failure.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="9">DidUnsubscribeFromCharacteristic(central as <A href="class-cbcentralmbs.html">CBCentralMBS</A>, characteristic as <A href="class-cbcharacteristicmbs.html">CBCharacteristicMBS</A>)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when a remote central device unsubscribes from a characteristic&rsquo;s value.<BR>
<B>Notes:</B> 
<BR>
central: The remote central device that subscribed to the characteristic&rsquo;s value.<BR>
characteristic: The characteristic whose value has been unsubscribed from.<BR>
<BR>
This method is invoked when a remote central device unsubscribes from the value of one of the local peripheral&rsquo;s characteristics, by disabling notifications or indications on the characteristic&rsquo;s value. You should use the invocation of this method as a cue to stop sending the subscribed central updates as the characteristic&rsquo;s value changes.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="10">DidUpdateState</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when the peripheral manager&#39;s state is updated.<BR>
<B>Notes:</B> 
You implement this required method to ensure that Bluetooth low energy is supported and available to use on the local peripheral device. Issue commands to the peripheral manager only when the state of the peripheral manager is powered on, as indicated by the kStatePoweredOn constant. A state with a value lower than CBPeripheralManagerStatePoweredOn implies that advertising has stopped and that any connected centrals have been disconnected. If the state moves below CBPeripheralManagerStatePoweredOff, advertising has stopped and must be explicitly restarted. In addition, the local database is cleared and all services must be explicitly added again. For a complete list and discussion of the possible values representing the state of the peripheral manager, see the CBPeripheralManagerState enumeration in CBPeripheralManager.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="11">IsReadyToUpdateSubscribers</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when a local peripheral device is again ready to send characteristic value updates.<BR>
<B>Notes:</B> 
When a call to the updateValue method fails because the underlying queue used to transmit the updated characteristic value is full, the peripheralManagerIsReadyToUpdateSubscribers: method is invoked when more space in the transmit queue becomes available. You can then implement this event to resend the value.<BR>
</div>
<div class="M">
<b><a href="class-cbperipheralmanagermbs.html">CBPeripheralManagerMBS</a>.<A name="12">WillRestoreState(dic as dictionary)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>event</td>
<td class=grau><A href="topic-bluetooth.html" translate="no">Bluetooth</A></td>
<td class=grau><a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a></td>
<td class=grau><a href="newinversion181.shtml" class=version>18.1</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau></td>
</tr>
</table>
<B>Function:</B> 
Invoked when the peripheral manager is about to be restored by the system.<BR>
<B>Notes:</B> 
<BR>
dict: A dictionary containing information about the peripheral manager that was preserved by the system at the time the app was terminated. For the available keys to this dictionary, see Peripheral Manager State Restoration Options.<BR>
<BR>
For apps that opt in to the state preservation and restoration feature of Core Bluetooth, this is the first method invoked when your app is relaunched into the background to complete some Bluetooth-related task. Use this method to synchronize the state of your app with the state of the Bluetooth system.<BR>
</div>
<p>The items on this page are in the following plugins: <a href="plugins-mbsbluetoothplugin.html">MBS Bluetooth Plugin</a>.</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=bluetooth-cbperipheralmanagermbs-event">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

