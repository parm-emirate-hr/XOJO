<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Frameset//EN" >
<HTML>
<HEAD>
<TITLE>Monkeybread Xojo plugin - LAContextMBS methods</TITLE>
<script src="../platforms.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="../help.css" >
<link rel="stylesheet" type="text/css" href="../screen.css" media="screen">
<link rel="stylesheet" type="text/css" href="../print.css" media="print">
<link rel="stylesheet" type="text/css" href="../allitems.css" title="Default">
<link rel="alternate stylesheet" type="text/css" href="../macitems.css" title="Mac">
<link rel="alternate stylesheet" type="text/css" href="../winitems.css" title="Win">
<link rel="alternate stylesheet" type="text/css" href="../linuxitems.css" title="Linux">
<link rel="alternate stylesheet" type="text/css" href="../crossitems.css" title="Crossplatform">
<meta http-equiv="content-type" content="text/html; charset=x-mac-roman">
<META NAME="description" CONTENT="LAContextMBS">
</head>
<BODY BGCOLOR="#FFFFFF">
<H2 lang="en">LAContextMBS methods</h2>
<p><a href="http://www.monkeybreadsoftware.net">Online Documentation</a> &nbsp; - &nbsp; <a href="stats.html">Statistics</a> &nbsp; - &nbsp; <a href="topic-faq.html">FAQ</a> &nbsp; - &nbsp; <a href="parts.html">Plugin Parts</a> (<a href="partsall.html">All</a>, <a href="plugindeps.html">Dependencies</a>) &nbsp; - &nbsp; <a href="hierarchy.html">Class hierarchy</a></p>
<p>New in Version 
<a href="newinversion213.html">21.3</a> 
<a href="newinversion214.html">21.4</a> 
<a href="newinversion215.html">21.5</a> 
<a href="newinversion220.html">22.0</a> 
<a href="newinversion221.html">22.1</a> 
<a href="newinversion222.html">22.2</a> 
<a href="newinversion223.html">22.3</a> 
<a href="newinversion224.html">22.4</a> 
<a href="newinversion225.html">22.5</a> 
<a href="newinversion230.html">23.0</a> 
<a href="newinversion231.html">23.1</a> 
<a href="newinversion232.html">23.2</a> 
</p>
<p>The list of the &nbsp; <a href="themes.html">topics</a>, 
 &nbsp; <a href="classes.html">classes</a>,
 &nbsp; <a href="interfaces.html">interfaces</a>,
 &nbsp; <a href="controls.html">controls</a>,
 &nbsp; <a href="modules.html">modules</a>,
 &nbsp; <a href="globaltopic.html">global methods by category</a>,
 &nbsp; <a href="globalname.html">global methods by name</a>,
 &nbsp; <a href="screenshots.html">screenshots</a>,
 &nbsp; <a href="licenses.html">licenses</a> &nbsp;
 and &nbsp; <a href="examples.html">examples</a>.</p>
<p id=PlatformChooserMBS>Platforms to show: <a class="isA" href="javascript:all();">All</a> <a class="isM" href="javascript:mac();">Mac</a> <a class="isW" href="javascript:win();">Windows</a> <a class="isL" href="javascript:linux();">Linux</a> <a class="isC" href="javascript:crossplatform();">Cross-Platform</a></p>
<p>Back to <A href="class-lacontextmbs.html">LAContextMBS</a> class.  </p>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="1">canEvaluatePolicy(Policy as Integer, byref Error as <A href="class-nserrormbs.html">NSErrorMBS</A>) as Boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion170.shtml" class=version>17.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Determines if a particular policy can be evaluated.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #0000FF;">try</span><br />  <span style="color: #0000FF;">dim</span> e <span style="color: #0000FF;">as</span> <A href="class-nserrormbs.html">NSErrorMBS</A><br />  <br />  <span style="color: #0000FF;">if</span> lc.canEvaluatePolicy(lc.PolicyDeviceOwnerAuthenticationWithBiometrics, e) <span style="color: #0000FF;">then</span><br />    List.AddRow <span style="color: #6600FE;">&quot;Can authenticate with biometrics.&quot;</span><br />  <span style="color: #0000FF;">else</span><br />    List.AddRow <span style="color: #6600FE;">&quot;Can&apos;t authenticate with biometrics.&quot;</span><br />  <span style="color: #0000FF;">end</span> <span style="color: #0000FF;">if</span><br />  <span style="color: #0000FF;">if</span> e &lt;&gt; <span style="color: #0000FF;">nil</span> <span style="color: #0000FF;">then</span><br />    List.AddRow <span style="color: #6600FE;">&quot;Error: &quot;</span>+e.LocalizedDescription<br />  <span style="color: #0000FF;">end</span> <span style="color: #0000FF;">if</span><br />  <br /><span style="color: #0000FF;">catch</span> ex <span style="color: #0000FF;">as</span> <A href="class-nsexceptionmbs.html">NSExceptionMBS</A><br />  <br />  List.AddRow <span style="color: #6600FE;">&quot;Exception: &quot;</span>+ex.Message<br />  <br /><span style="color: #0000FF;">end</span> <span style="color: #0000FF;">try</span></span>
</pre>
</div>
<B>Notes:</B> 
<BR>
Policies can have certain requirements which, when not satisfied, would always cause the policy evaluation to fail. Examples can be a passcode set or a fingerprint enrolled with Touch ID. This method allows easy checking for such conditions.<BR>
<BR>
Applications should consume the returned value immediately and avoid relying on it for an extensive period of time. At least, it is guaranteed to stay valid until the application enters background.<BR>
<BR>
policy: Policy for which the preflight check should be run.<BR>
<BR>
error: contains error information if policy evaluation is not possible.<BR>
<BR>
Returns true if the policy can be evaluated, false otherwise.<BR>
<h4>Some examples using this method:</h4>
<ul translate="no">
<li><A href="example-mac64bit-localauthentication.html">/Mac64bit/Local Authentication</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="2">Constructor</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion170.shtml" class=version>17.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
The constructor.<BR>
</div>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="3">evaluatePolicy(Policy as Integer, localizedReason as String, Tag as Variant = nil)</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion170.shtml" class=version>17.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Evaluates the specified policy.<BR>
<B>Example:</B> 
<div class=CodeExample translate="no">
<pre>
<span style="color: #000000;"><span style="color: #0000FF;">dim</span> lc <span style="color: #0000FF;">as</span> <A href="class-lacontextmbs.html">LAContextMBS</A> <span style="color: #800000;">// your context</span><br /><br /><span style="color: #0000FF;">try</span><br />  <br />  lc.evaluatePolicy(lc.PolicyDeviceOwnerAuthenticationWithBiometrics, <span style="color: #6600FE;">&quot;We need to test.&quot;</span>)<br />  <br /><span style="color: #0000FF;">catch</span> ex <span style="color: #0000FF;">as</span> <A href="class-nsexceptionmbs.html">NSExceptionMBS</A><br />  <br />  List.AddRow <span style="color: #6600FE;">&quot;Exception: &quot;</span>+ex.Message<br />  <br /><span style="color: #0000FF;">end</span> <span style="color: #0000FF;">try</span></span>
</pre>
</div>
<B>Notes:</B> 
<BR>
Policy evaluation may involve prompting user for various kinds of interaction or authentication. Actual behavior is dependent on evaluated policy, device type, and can be affected by installed configuration profiles.<BR>
<BR>
Be sure to keep a strong reference to the context while the evaluation is in progress. Otherwise, an evaluation would be canceled when the context is being deallocated.<BR>
<BR>
The method does not block. Instead the event is called asynchronously when evaluation finishes.<BR>
<BR>
Implications of successful policy evaluation are policy specific. In general, this<BR>
operation is not idempotent. Policy evaluation may fail for various reasons, including<BR>
user cancel, system cancel and others, see error codes.<BR>
<BR>
policy: Policy to be evaluated.<BR>
localizedReason: Application reason for authentication. This string must be provided in correct localization and should be short and clear. It will be eventually displayed in the authentication dialog subtitle. A name of the calling application will be already displayed in title, so it should not be duplicated here.<BR>
<h4>Some examples using this method:</h4>
<ul translate="no">
<li><A href="example-mac64bit-localauthentication.html">/Mac64bit/Local Authentication</A></li>
</ul>
</div>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="4">invalidate</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion170.shtml" class=version>17.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Invalidates the context.<BR>
<B>Notes:</B> 
<BR>
The context is invalidated automatically when it is (auto)released. This method allows invalidating it manually while it is still in scope.<BR>
<BR>
Invalidation terminates any existing policy evaluation and the respective call will fail with LAErrorAppCancel. After the context has been invalidated, it can not be used for policy evaluation and an attempt to do so will fail with LAErrorInvalidContext.<BR>
<BR>
Invalidating a context that has been already invalidated has no effect.<BR>
</div>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="5">isCredentialSet(CredentialType as Integer) as Boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion210.shtml" class=version>21.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Reveals if credential was set with this context.<BR>
<B>Notes:</B> 
<BR>
type: Type of credential we are asking for.<BR>
<BR>
Return true on success, false otherwise.<BR>
</div>
<div class="M">
<b><a href="class-lacontextmbs.html">LAContextMBS</a>.<A name="6">setCredential(credential as MemoryBlock, Type as Integer) as Boolean</A></b><br>

<table cellpadding=3>
<tr>
<td class=grau>Type</td>
<td class=grau>Topic</td>
<td class=grau>Plugin</td>
<td class=grau>Version</td>
<td class=grau>macOS</td>
<td class=grau>Windows</td>
<td class=grau>Linux</td>
<td class=grau>iOS</td>
<td class=grau>Targets</td>
</tr>
<tr>
<td class=grau>method</td>
<td class=grau><A href="topic-touchbar.html" translate="no">TouchBar</A></td>
<td class=grau><a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a></td>
<td class=grau><a href="newinversion210.shtml" class=version>21.0</a></td>
<td class=grau>&#9989; Yes</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#10060; No</td>
<td class=grau>&#9989; Yes</td>
<td class=grau>All</td>
</tr>
</table>
<B>Function:</B> 
Sets a credential to this context.<BR>
<B>Notes:</B> 
<BR>
Some policies allow to bind application-provided credential with them.<BR>
This method allows credential to be passed to the right context.<BR>
<BR>
credential: Credential to be used with subsequent calls. Setting this parameter to nil will remove any existing credential of the specified type.<BR>
<BR>
Type: Type of the provided credential.<BR>
<BR>
Return true if the credential was set successfully, false otherwise.<BR>
</div>
<p>The items on this page are in the following plugins: <a href="plugins-mbsmac64bitplugin.html">MBS Mac64bit Plugin</a>.</p>
<!-- Ende Content-->

<br>
<div style="width: 200pt; margin: 0pt; padding: 5pt; border-color:#ccc; border-style:solid; background-color: #eee; border-width: 2pt; border-radius: 10pt; " lang="en">
&#128172; <a href="https://www.monkeybreadsoftware.com/feedback/?what=xojo&path=touchbar-lacontextmbs-method">Ask a question or report a problem</a>
</div>

</BODY>
</HTML>

